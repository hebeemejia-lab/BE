{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Banco Exclusivo\\\\frontend\\\\src\\\\pages\\\\Retiros.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport { bankAccountAPI } from '../services/api';\nimport './Retiros.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Retiros() {\n  _s();\n  const {\n    usuario\n  } = useContext(AuthContext);\n  const [formData, setFormData] = useState({\n    monto: '',\n    moneda: 'USD',\n    // USD, DOP, EUR\n    cuentaId: ''\n  });\n  const [cuentas, setCuentas] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [cuentasLoading, setCuentasLoading] = useState(true);\n\n  // Cargar cuentas vinculadas al montar\n  React.useEffect(() => {\n    cargarCuentas();\n  }, []);\n  const cargarCuentas = async () => {\n    try {\n      setCuentasLoading(true);\n      const response = await bankAccountAPI.listarCuentas();\n      setCuentas(response.data);\n\n      // Seleccionar la cuenta por defecto\n      const cuentaDefault = response.data.find(c => c.esDefault);\n      if (cuentaDefault) {\n        setFormData(prev => ({\n          ...prev,\n          cuentaId: cuentaDefault.id\n        }));\n      }\n    } catch (err) {\n      console.error('Error cargando cuentas:', err);\n      setError('No se pudieron cargar las cuentas vinculadas');\n    } finally {\n      setCuentasLoading(false);\n    }\n  };\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const validarFormulario = () => {\n    const monto = parseFloat(formData.monto);\n    if (!formData.monto || monto <= 0) {\n      setError('Ingresa un monto v√°lido');\n      return false;\n    }\n    if (monto > parseFloat((usuario === null || usuario === void 0 ? void 0 : usuario.saldo) || 0)) {\n      setError('Saldo insuficiente para este retiro');\n      return false;\n    }\n    if (!formData.cuentaId) {\n      setError('Selecciona una cuenta bancaria');\n      return false;\n    }\n    const cuenta = cuentas.find(c => c.id === parseInt(formData.cuentaId));\n    if (!cuenta || cuenta.estado !== 'verificada') {\n      setError('La cuenta seleccionada no est√° verificada');\n      return false;\n    }\n    return true;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    if (!validarFormulario()) return;\n    setLoading(true);\n    try {\n      const response = await fetch('/api/retiros/procesar', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          monto: parseFloat(formData.monto),\n          moneda: formData.moneda,\n          cuentaId: parseInt(formData.cuentaId)\n        })\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.mensaje || 'Error procesando retiro');\n      }\n      setSuccess(`‚úì Retiro exitoso. -$${formData.monto} ${formData.moneda}. Ref: ${data.numeroReferencia}`);\n      setFormData({\n        monto: '',\n        moneda: 'USD',\n        cuentaId: formData.cuentaId\n      });\n    } catch (err) {\n      setError(err.message || 'Error procesando el retiro');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const monedas = [{\n    codigo: 'USD',\n    simbolo: '$',\n    nombre: 'D√≥lar Estadounidense'\n  }, {\n    codigo: 'DOP',\n    simbolo: 'RD$',\n    nombre: 'Peso Dominicano'\n  }, {\n    codigo: 'EUR',\n    simbolo: '‚Ç¨',\n    nombre: 'Euro'\n  }];\n  const monedaSeleccionada = monedas.find(m => m.codigo === formData.moneda);\n  if (cuentasLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"retiros-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"retiros-card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\",\n          children: \"Cargando cuentas...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this);\n  }\n  if (cuentas.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"retiros-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"retiros-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uD83D\\uDCB3 Retirar Dinero\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Transfiere fondos a tu cuenta bancaria\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uD83D\\uDCCC No tienes cuentas bancarias vinculadas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Para retirar dinero, primero debes:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Ir a \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Cuentas Bancarias\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Vincular una cuenta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Verificarla con microdeposits\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"retiros-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"retiros-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDCB3 Retirar Dinero\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Transfiere fondos a tu cuenta bancaria\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"saldo-actual\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Saldo disponible:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"$\", parseFloat((usuario === null || usuario === void 0 ? void 0 : usuario.saldo) || 0).toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 19\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-message\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Monto a retirar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"monto-input-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"currency-symbol\",\n              children: monedaSeleccionada === null || monedaSeleccionada === void 0 ? void 0 : monedaSeleccionada.simbolo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"monto\",\n              value: formData.monto,\n              onChange: handleChange,\n              placeholder: \"0.00\",\n              step: \"0.01\",\n              min: \"0\",\n              max: parseFloat((usuario === null || usuario === void 0 ? void 0 : usuario.saldo) || 0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"monto-presets\",\n            children: [50, 100, 200, 500, 1000].map(monto => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: `monto-btn ${formData.monto === monto.toString() ? 'selected' : ''}`,\n              onClick: () => {\n                if (monto <= parseFloat((usuario === null || usuario === void 0 ? void 0 : usuario.saldo) || 0)) {\n                  setFormData({\n                    ...formData,\n                    monto: monto.toString()\n                  });\n                }\n              },\n              children: [monedaSeleccionada === null || monedaSeleccionada === void 0 ? void 0 : monedaSeleccionada.simbolo, monto]\n            }, monto, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Moneda\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"moneda-selector\",\n            children: monedas.map(m => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"moneda-option\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"moneda\",\n                value: m.codigo,\n                checked: formData.moneda === m.codigo,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"moneda-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [m.simbolo, \" \", m.codigo]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  children: m.nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this)]\n            }, m.codigo, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Cuenta de Destino\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"cuentaId\",\n            value: formData.cuentaId,\n            onChange: handleChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"-- Selecciona una cuenta --\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), cuentas.map(cuenta => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: cuenta.id,\n              children: [cuenta.nombreCuenta, \" (\", cuenta.banco, \") - ****\", cuenta.numerosCuenta, cuenta.esDefault && ' (Por defecto)', cuenta.estado !== 'verificada' && ' - No verificada']\n            }, cuenta.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"help-text\",\n            children: \"Solo puedes retirar a cuentas verificadas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u2139\\uFE0F Informaci\\xF3n de Retiro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2713 Transferencia a 1-2 d\\xEDas h\\xE1biles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2713 Sin comisi\\xF3n de retiro\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2713 Monto m\\xE1ximo: $\", parseFloat((usuario === null || usuario === void 0 ? void 0 : usuario.saldo) || 0).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2713 N\\xFAmero de referencia para seguimiento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading || !formData.monto || !formData.cuentaId,\n          className: \"btn-submit\",\n          children: loading ? 'Procesando...' : `Retirar ${monedaSeleccionada === null || monedaSeleccionada === void 0 ? void 0 : monedaSeleccionada.simbolo}${parseFloat(formData.monto || 0).toFixed(2)}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"historial-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\xDAltimos Retiros\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"historial-tabla\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Monto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Moneda\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Cuenta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Estado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Referencia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n}\n_s(Retiros, \"1ybCSN94gRbyTx5FB+NWdRx6WUc=\");\n_c = Retiros;\nvar _c;\n$RefreshReg$(_c, \"Retiros\");","map":{"version":3,"names":["React","useState","useContext","AuthContext","bankAccountAPI","jsxDEV","_jsxDEV","Retiros","_s","usuario","formData","setFormData","monto","moneda","cuentaId","cuentas","setCuentas","loading","setLoading","error","setError","success","setSuccess","cuentasLoading","setCuentasLoading","useEffect","cargarCuentas","response","listarCuentas","data","cuentaDefault","find","c","esDefault","prev","id","err","console","handleChange","e","target","name","value","validarFormulario","parseFloat","saldo","cuenta","parseInt","estado","handleSubmit","preventDefault","fetch","method","headers","localStorage","getItem","body","JSON","stringify","json","ok","Error","mensaje","numeroReferencia","message","monedas","codigo","simbolo","nombre","monedaSeleccionada","m","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","toFixed","onSubmit","type","onChange","placeholder","step","min","max","map","toString","onClick","checked","required","nombreCuenta","banco","numerosCuenta","disabled","_c","$RefreshReg$"],"sources":["C:/Users/User/Banco Exclusivo/frontend/src/pages/Retiros.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { bankAccountAPI } from '../services/api';\r\nimport './Retiros.css';\r\n\r\nexport default function Retiros() {\r\n  const { usuario } = useContext(AuthContext);\r\n  const [formData, setFormData] = useState({\r\n    monto: '',\r\n    moneda: 'USD', // USD, DOP, EUR\r\n    cuentaId: '',\r\n  });\r\n  const [cuentas, setCuentas] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [cuentasLoading, setCuentasLoading] = useState(true);\r\n\r\n  // Cargar cuentas vinculadas al montar\r\n  React.useEffect(() => {\r\n    cargarCuentas();\r\n  }, []);\r\n\r\n  const cargarCuentas = async () => {\r\n    try {\r\n      setCuentasLoading(true);\r\n      const response = await bankAccountAPI.listarCuentas();\r\n      setCuentas(response.data);\r\n      \r\n      // Seleccionar la cuenta por defecto\r\n      const cuentaDefault = response.data.find(c => c.esDefault);\r\n      if (cuentaDefault) {\r\n        setFormData(prev => ({ ...prev, cuentaId: cuentaDefault.id }));\r\n      }\r\n    } catch (err) {\r\n      console.error('Error cargando cuentas:', err);\r\n      setError('No se pudieron cargar las cuentas vinculadas');\r\n    } finally {\r\n      setCuentasLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const validarFormulario = () => {\r\n    const monto = parseFloat(formData.monto);\r\n    \r\n    if (!formData.monto || monto <= 0) {\r\n      setError('Ingresa un monto v√°lido');\r\n      return false;\r\n    }\r\n\r\n    if (monto > parseFloat(usuario?.saldo || 0)) {\r\n      setError('Saldo insuficiente para este retiro');\r\n      return false;\r\n    }\r\n\r\n    if (!formData.cuentaId) {\r\n      setError('Selecciona una cuenta bancaria');\r\n      return false;\r\n    }\r\n\r\n    const cuenta = cuentas.find(c => c.id === parseInt(formData.cuentaId));\r\n    if (!cuenta || cuenta.estado !== 'verificada') {\r\n      setError('La cuenta seleccionada no est√° verificada');\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    if (!validarFormulario()) return;\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await fetch('/api/retiros/procesar', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n        body: JSON.stringify({\r\n          monto: parseFloat(formData.monto),\r\n          moneda: formData.moneda,\r\n          cuentaId: parseInt(formData.cuentaId),\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.mensaje || 'Error procesando retiro');\r\n      }\r\n\r\n      setSuccess(`‚úì Retiro exitoso. -$${formData.monto} ${formData.moneda}. Ref: ${data.numeroReferencia}`);\r\n      setFormData({\r\n        monto: '',\r\n        moneda: 'USD',\r\n        cuentaId: formData.cuentaId,\r\n      });\r\n    } catch (err) {\r\n      setError(err.message || 'Error procesando el retiro');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const monedas = [\r\n    { codigo: 'USD', simbolo: '$', nombre: 'D√≥lar Estadounidense' },\r\n    { codigo: 'DOP', simbolo: 'RD$', nombre: 'Peso Dominicano' },\r\n    { codigo: 'EUR', simbolo: '‚Ç¨', nombre: 'Euro' },\r\n  ];\r\n\r\n  const monedaSeleccionada = monedas.find(m => m.codigo === formData.moneda);\r\n\r\n  if (cuentasLoading) {\r\n    return (\r\n      <div className=\"retiros-container\">\r\n        <div className=\"retiros-card\">\r\n          <div className=\"loading-spinner\">Cargando cuentas...</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (cuentas.length === 0) {\r\n    return (\r\n      <div className=\"retiros-container\">\r\n        <div className=\"retiros-card\">\r\n          <div className=\"card-header\">\r\n            <h2>üí≥ Retirar Dinero</h2>\r\n            <p>Transfiere fondos a tu cuenta bancaria</p>\r\n          </div>\r\n          <div className=\"empty-state\">\r\n            <p>üìå No tienes cuentas bancarias vinculadas</p>\r\n            <p>Para retirar dinero, primero debes:</p>\r\n            <ol>\r\n              <li>Ir a <strong>Cuentas Bancarias</strong></li>\r\n              <li>Vincular una cuenta</li>\r\n              <li>Verificarla con microdeposits</li>\r\n            </ol>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"retiros-container\">\r\n      <div className=\"retiros-card\">\r\n        <div className=\"card-header\">\r\n          <h2>üí≥ Retirar Dinero</h2>\r\n          <p>Transfiere fondos a tu cuenta bancaria</p>\r\n        </div>\r\n\r\n        <div className=\"saldo-actual\">\r\n          <span>Saldo disponible:</span>\r\n          <h3>${parseFloat(usuario?.saldo || 0).toFixed(2)}</h3>\r\n        </div>\r\n\r\n        {error && <div className=\"error-message\">{error}</div>}\r\n        {success && <div className=\"success-message\">{success}</div>}\r\n\r\n        <form onSubmit={handleSubmit} className=\"form-section\">\r\n          {/* Monto */}\r\n          <div className=\"form-group\">\r\n            <label>Monto a retirar</label>\r\n            <div className=\"monto-input-group\">\r\n              <span className=\"currency-symbol\">{monedaSeleccionada?.simbolo}</span>\r\n              <input\r\n                type=\"number\"\r\n                name=\"monto\"\r\n                value={formData.monto}\r\n                onChange={handleChange}\r\n                placeholder=\"0.00\"\r\n                step=\"0.01\"\r\n                min=\"0\"\r\n                max={parseFloat(usuario?.saldo || 0)}\r\n              />\r\n            </div>\r\n            <div className=\"monto-presets\">\r\n              {[50, 100, 200, 500, 1000].map((monto) => (\r\n                <button\r\n                  key={monto}\r\n                  type=\"button\"\r\n                  className={`monto-btn ${formData.monto === monto.toString() ? 'selected' : ''}`}\r\n                  onClick={() => {\r\n                    if (monto <= parseFloat(usuario?.saldo || 0)) {\r\n                      setFormData({ ...formData, monto: monto.toString() });\r\n                    }\r\n                  }}\r\n                >\r\n                  {monedaSeleccionada?.simbolo}{monto}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Moneda */}\r\n          <div className=\"form-group\">\r\n            <label>Moneda</label>\r\n            <div className=\"moneda-selector\">\r\n              {monedas.map((m) => (\r\n                <label key={m.codigo} className=\"moneda-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"moneda\"\r\n                    value={m.codigo}\r\n                    checked={formData.moneda === m.codigo}\r\n                    onChange={handleChange}\r\n                  />\r\n                  <span className=\"moneda-label\">\r\n                    <strong>{m.simbolo} {m.codigo}</strong>\r\n                    <small>{m.nombre}</small>\r\n                  </span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Cuenta Bancaria */}\r\n          <div className=\"form-group\">\r\n            <label>Cuenta de Destino</label>\r\n            <select\r\n              name=\"cuentaId\"\r\n              value={formData.cuentaId}\r\n              onChange={handleChange}\r\n              required\r\n            >\r\n              <option value=\"\">-- Selecciona una cuenta --</option>\r\n              {cuentas.map((cuenta) => (\r\n                <option key={cuenta.id} value={cuenta.id}>\r\n                  {cuenta.nombreCuenta} ({cuenta.banco}) - ****{cuenta.numerosCuenta}\r\n                  {cuenta.esDefault && ' (Por defecto)'}\r\n                  {cuenta.estado !== 'verificada' && ' - No verificada'}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <small className=\"help-text\">\r\n              Solo puedes retirar a cuentas verificadas\r\n            </small>\r\n          </div>\r\n\r\n          {/* Informaci√≥n */}\r\n          <div className=\"info-box\">\r\n            <h4>‚ÑπÔ∏è Informaci√≥n de Retiro</h4>\r\n            <ul>\r\n              <li>‚úì Transferencia a 1-2 d√≠as h√°biles</li>\r\n              <li>‚úì Sin comisi√≥n de retiro</li>\r\n              <li>‚úì Monto m√°ximo: ${parseFloat(usuario?.saldo || 0).toFixed(2)}</li>\r\n              <li>‚úì N√∫mero de referencia para seguimiento</li>\r\n            </ul>\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading || !formData.monto || !formData.cuentaId}\r\n            className=\"btn-submit\"\r\n          >\r\n            {loading ? 'Procesando...' : `Retirar ${monedaSeleccionada?.simbolo}${parseFloat(formData.monto || 0).toFixed(2)}`}\r\n          </button>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Historial */}\r\n      <div className=\"historial-card\">\r\n        <h3>√öltimos Retiros</h3>\r\n        <div className=\"historial-tabla\">\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Monto</th>\r\n                <th>Moneda</th>\r\n                <th>Cuenta</th>\r\n                <th>Estado</th>\r\n                <th>Referencia</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>-</td>\r\n                <td>-</td>\r\n                <td>-</td>\r\n                <td>-</td>\r\n                <td>-</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}